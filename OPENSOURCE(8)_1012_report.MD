

# OPENSOURCE(8)_1012_REPORT

| 이름   | 역할                                             | 조사 오픈소스           |
| ------ | ------------------------------------------------ | ----------------------- |
| 천우준 | 조장(회의 계획, 회의 내용 정리 등)               | Zxing                   |
| 안민재 | 조원(오픈소스 조사 및 프로젝트 관련 피드백 수행) | PostgreSQL              |
| 양윤석 | 동일                                             | Elastic Search          |
| 오유진 | 동일                                             | Bootstrap               |
| 유지연 | 동일                                             | Spring                  |
| 유지완 | 동일                                             | Google Cloud Vision API |
| 유재현 | 동일                                             | Android Studio          |

## 목차

1 서비스 

​	1.1 서비스 소개

​	1.2 서비스 설계 동기

​	1.3 서비스 정보

​	1.3.1 맥주 정보 제공 서비스

​	1.3.2 안주 추천 서비스

​	1.3.3 맥주 평가 및 리뷰 서비스

​	1.3.4 맞춤 유사 맥주 추천 서비스

​	1.4 유사 서비스 조사

​	1.4.1 맥주 정보 제공 서비스

​	1.4.2 이미지 분석 정보 제공 서비스

​	1.4.3 유사 서비스들과의 차별점



2 사용된 오픈소스

​	2.1 부트스트랩(Bootstrap)

​	2.1.1 부트스트랩 소개

​	2.1.2 부트스트랩 라이선스

​	2.1.3 부트스트랩 특징

​	2.1.4 서비스 내 기능

​	2.2 스프링 프레임워크(Spring Framework)

​	2.2.1 스프링 프레임워크 소개

​	2.2.2 스프링 프레임워크 라이선스

​	2.2.3 스프링 프레임워크 특징

​	2.2.4 서비스 내 기능

​	2.3 안드로이드 스튜디오(Andriod Studio)

​	2.3.1 안드로이드 스튜디오 소개

​	2.3.2 안드로이드 스튜디오 라이선스

​	2.3.3 안드로이드 스튜디오 특징

​	2.3.4 서비스 내 기능

​	2.4 지씽(Zxing)

​	2.4.1 지씽 소개

​	2.4.2 지씽 라이선스

​	2.4.3 지씽 특징

​	2.4.4 서비스 내 기능

​	2.5 스크래피(Scrapy)

​	2.5.1 스크래피 소개

​	2.5.2 스크래피 라이선스

​	2.5.3 스크래피 특징

​	2.5.4 서비스 내 기능

​	2.6 구글 클라우드 비전 API(Google Cloud Vision API)

​	2.6.1 구글 클라우드 비전 API 소개

​	2.6.2 구글 클라우드 비전 API 라이선스

​	2.6.3 구글 클라우드 비전 API 특징

​	2.6.4 서비스 내 기능

​	2.7 엘라스틱 서치(Elastic Search)

​	2.7.1 엘라스틱 서치 소개

​	2.7.2 엘라스틱 서치 라이선스

​	2.7.3 엘라스틱 서치 특징

​	2.7.4 서비스 내 기능

​	2.8 PostgreSQL

​	2.8.1 PostgerSQL 소개

​	2.8.2 PostgreSQL 라이선스

​	2.8.3 PostgreSQL 특징

​	2.8.4 서비스 내 기능

​	2.9 코모란(Komoran)

​	2.9.1 코모란 소개

​	2.9.2 코모란 라이선스

​	2.9.3 코모란 특징

​	2.9.4 서비스 내 기능



3 DFD



4 라이선스 검토

## 1 서비스

### 1.1 서비스 소개

서비스의 이름은 '맥주 뭐 먹酒?'로, 사용자가 어플을 실행해 맥주의 사진이나 바코드를 찍어

해당 맥주의 정보를 제공받고 추천받으며, 어울리는 안주 목록을 제공받을 수 있는 사용자 맞춤 서비스이다.

### 1.2 서비스 설계 동기

최근 소득 수준이 높아짐에 일이 끝나고 가볍게 맥주나 술을 마시거나 취미를 즐기는 사람들이 많아졌다. 이와 관

련하여 다양한 주류의 여러 추천 서비스들이 등장했지만 어째서인지 우리에게 가장 친숙한 주류이며 폭넓은 종류

로 존재하는 “맥주”와 관련된 대중 친화적인 서비스는 존재하지 않았다. 실제로 편의점이나 마트 등 다양한 판매처

에서 여러 종류의 맥주를 취급하고 있지만, 보통 소비자들은 새로운 주류에 도전하기보다는 자연스레 평소 선호하

던 제품을 고른다. 이에 우리는 주류 코너에 아무리 많은 맥주가 있더라도 우리가 선택하는 맥주의 폭은 너무 좁다

는 생각이 들었다. 따라서, 소비자들에게 각종 맥주와 관련된 정보를 명확하게 제공하여 취향에 맞는 맥주를 추천

받을 수 있게 하며 그에 어울리는 안주 추천 기능을 가진 서비스 '맥주 뭐 먹酒?'를 기획하게 되었다. 새로운 맥주를

시도해보고 싶은 사람과 자신이 마시는 맥주에 대한 정보를 정확히 알고 싶은 사람에게 이 서비스는 아주 유용할

것이다. 이 서비스는 앱을 실행시켜 맥주의 사진이나 바코드를 찍는 쉬운 방법만으로도 다양한 맥주에 관한 정보

들을 얻을 수 있다.

### 1.3 서비스 정보

- #### 1.3.1 맥주 정보 제공 서비스

  맥주 라벨이나 바코드를 촬영해 사진 속 데이터를 분석하여 해당 맥주에 관련된 이름, 종류, 도수, 제조사 등의

  다양한 정보를 제공한다. 또한, 해당 맥주를 마셔 본 다른 사용자들의 평점과 리뷰를 통해 해당 맥주가 사용자

  의 평소 취향에 부합하는지 판단할 수 있게 도움을 준다.

- #### 1.3.2 안주 추천 서비스

  검색된 맥주의 기본 정보와 서비스 이용자들의 리뷰 서비스 속의 언급, 온라인상의 정보를 바탕으로 해당 주

  와 어울릴만한 안주 목록을 제공합니다. 하나의 예로 맥주같은 경우에는 편의점에서 구매하는 경우가 많기에

  "편스토랑" 요리 프로그램에서 나오는 편의점 제품으로 만들 수 있는 안주 레시피와 인터넷 정보를 불러와 안

  주에 대한 간단한 레시피를 제공하게 된다.



- #### 1.3.3 맥주 평가 및 리뷰 서비스

  사용자들이 직접 마신 맥주에 대해 평가하고, 리뷰를 남길 수 있다. 이를 통해 사용자들의 취향을 파악하고, 어

  느 맥주에 관해 고민하는 일이 있다면 다른 사용자들에 의한 평가와 리뷰를 통해 사용자의 취향에 부합하는

  맥주인지, 어떤 평가를 받고있는지 볼 수 있게한다.

- #### 1.3.4 맞춤 유사 맥주 추천 서비스

  사용자가 자신의 회원 정보를 등록했을 경우, 사용자의 검색 기록이나 평가했던 맥주들의 만족도를 기반으로

  취향에 부합할 만한 맥주와 그와 유사한 평가를 받는 다른 맥주를 추천해준다.

### 1.4 유사 서비스 조사

 유사 서비스는 서비스의 주요 작업을 기준으로 맥주 자체에 대한 정보를 제공해주는 서비스와 이미지를

 분석하여 정보를 제공하는 서비스로 분류해 조사했다.

- #### 1.4.1 맥주 정보 제공 서비스

  - #### beeradvocate.com

    검색을 통해 다양한 맥주에 관한 정보와 리뷰를 제공하기 때문에 많은 사용자들의 평가를 확인할 수 있는 사이트이다. 이용자 수가 많고 폭넓은 정보를 접할 수 있다는 이점을 가지고 있지만, 사이트 내 검색은 로그인 상태에서만 가능하다. 또한 외국 사이트이므로 한국어를 사용하는 회원은 없다.

  - #### ratebeer.com

    검색을 통해 맥주에 관한 정보를 제공하는 사이트이다. 사용자들의 숫자로 된 평점만 제공되고 별다른 리뷰가 제공되지 않는다. 사이트 내 모든 맥주와 비교하고 책정된 평점과 같은 스타일의 맥주와 평가하였을 때의 평점을 제공한다. 마찬가지로 외국 사이트이므로 한국어를 사용하는 회원은 없다.

  - #### Vivino

    와인 정보 제공 서비스. 사진 촬영을 통해 와인의 정보를 확인하고 해당 와인과 유사한 와인을 추천해줍니다. 가격별, 나라별 랭킹 정보를 제공하고 서비스 이용자들이 직접 참여하여 정보를 나누는 커뮤니티 서비스가 존재한다. 마찬가지로 외국 사이트이나 비비노는 다양한 언어를 지원하지만 한국어는 없다.

  - #### LetsWine

    검색을 통해 와인에 대한 기본적인 정보를 제공해주는 서비스이다. 와인과 어울리는 음식과 제품뿐 아니라 어울리는 잔이나 온도, 상황, 공간까지 전반적인 분위기를 제안해주는 플랫폼이다.

- #### 1.4.2 이미지 분석 정보 제공 서비스

  - #### Naver Smart Lens

    네이버에서 제공하는 이미지 분석 정보 제공 서비스이다. 사진을 찍으면 해당 사진과 함께 유사도가 높은 사진을 제공한다. 와인 정보를 제공하는 서비스가 Smart Lens 내 따로 존재하여 와인의 라벨을 찍으면 해당 와인의 정보를 제공한다.

- #### 1.4.3 유사 서비스들과의 차별점

  먼저 앞선 유사 서비스의 조사 내용을 바탕으로 가장 먼저 주목해야 할 점은 수많은 주류 중 ‘맥주’에 집중했다는 것이다. 우리나라 시중에는 와인에 대한 정보를 제공하는 서비스는 대중적으로 사용되고 있지만 맥주에 집중된 서비스는 찾기 힘들다. 맥주 정보 검색을 원하는 사용자가 직접 이름을 입력해야 하는 번거로움과 위에서 제시한 맥주에 대한 많은 정보를 가지고 있는 사이트는 기본적으로 해외 사이트이기 때문에 국내 사용자가 이용하기에 굉장히 어려울 뿐만 아니라 제공되는 정보도 지나치게 전문적인 면이 강해 원하는 정보를 얻는 과정이 불편하게 느껴질 수 있다. 반면, 이 서비스는 직접 입력해야 하는 번거로움 없이 검색을 위해 사진만 찍으면 된다. 그 과정에서 사용자가 직접 입력할 때 흔히 생길 수 있는 사용자의 맥주 이름의 오타 혹은 착각 등의 문제가 생기지 않고, 국내 이용자가 입력하기 힘든 외국어로 적혀진 맥주도 빠르고 간단하게 정보를 받을 수 있다. 이 서비스는 “친근함”이라는 한 단어로 표현할 수 있다. 서비스가 맥주에 집중하게 된 또 다른 이유를 설명하는 단어 역시 “친근함”이다. 위에서 제시된 와인 검색 유사 서비스와 비교했을 때, 와인이라는 주류는 굉장히 정적인 느낌이 강해 다양한 사람들이 많은 경험을 하기 쉽지 않고 가격대도 다른 주류에 비해 높게 책정되어있고, 구매를 위해서는 와인 샵에 방문해야 하는 등 접근성이 많이 떨어지지만, 맥주는 편의점이나 가까운 마트에서도 많은 종류를 쉽게 찾아볼 수 있고 친구들끼리 "맥주 한잔하게 나와."라고 말하듯이 많은 사람에게 친근한 주류이다. 이러한 특징들이 모여 기존 유사 서비스와는 많은 차별점이 생기기 때문에 사용자가 저희 서비스를 이용할 명확한 근거가 된다고 생각한다. '맥주 뭐 먹酒?' 서비스는 단순한 검색 서비스의 형태를 넘어서 사용자에겐 풍부하고 다양한 서비스 이용 경험을 제공하고 성장하고 있는 국내 맥주 시장에 긍정적으로 기여하는 것까지 지향하고 있다.

## 2 사용된 오픈소스

### 2.1 부트스트랩(Bootstrap)

#### 2.1.1 부트스트랩 소개

부트스트랩은 반응형이며 모바일 우선인 웹프로젝트 개발을 위한 가장 인기있는 HTML, CSS, JS 프레임워크이

다. 한마디로 웹사이트 개발 프레임워크이다. 이는 서로 다른 인터페이스를 사용해 여러 개발자들이 공동 작업을

할 때, 디자인이 불일치하고 관리가 어려울뿐 아니라 방대한 코드량 때문에 일관성 유지가 불가해졌다. 이 문제

점을 개선하기 위해 트위터의 개발자와 UI 디자이너에게 개발되었다.

#### 2.1.2 부트스트랩 라이선스

- MIT 라이선스
  - 이 소프트웨어를 누구라도 무상으로 제한없이 취급해도 좋다. (단, 저작권 표시 및 이 허가 표시를 소프트웨어의 모든 복제물 또는 중요한 부분에 기재해야 한다.)
  - 저자 또는 저작권자는 소프트웨어에 관해서 아무런 책임을 지지 않는다.

#### 2.1.3 부트스트랩 특징

- 프론트엔드 개발을 빠르고 쉽게 할 수 있는 프레임 워크이다.
- HTML, CSS 기반의 템플릿 양식, 버튼, 네비게이션 및 기타 페이지를 구성하는 요소를 포함한다.
- 자바스크립트를 선택적으로 확장할 수 있다.
- Github의 오픈 소스로 사용이 가능하다.
- CDN 방식으로 링크해 사용한다.
- 장점
  - 글자, 인용문, 목록, 표, 입력폼, 버튼, 이미지, 아이콘 등의 자잘한 것뿐만 아니라, 드롭다운 메뉴, 내비게이션 바, 버튼, 탭, 리스트, 페이지 이동 바, 알림 메시지, 썸네일, 진행 바 등의 웹 페이지에서 많이 쓰이는 요소를 거의 전부 내장하고 있다.
  - PC용 디자인뿐 아니라 태블릿이나 스마트폰 같은 모바일용 디자인을 반응형으로 한번에 지원한다.
  - 오픈소스이다. 라이선스는 MIT 허가서를 사용하는데, 소스 코드 공개의 의무가 없어 재배포 면에서는 GPL보다 휠씬 자유로운 라이선스이다.
- 단점
  - 사전 정의된 디자인이 있다보니 비슷한 디자인의 페이지가 양산될 수 있다.
  - HTML5에 맞춰져 있다 보니 구형 브라우저 지원이 미흡하다.

#### 2.1.4 서비스내 기능

- 웹페이지 UI 디자인을 꾸미는데 사용한다.

### 2.2 스프링 프레임워크(Spring Framework)

#### 2.2.1 스프링 프레임워크 소개

자바 플랫폼을 위한 오픈소스 애플리케이션 프레임워크로서 간단히 스프링(Spring)이라고도 한다. 동적인 웹 사이트를 개발하기 위한 여러가지 서비스를 제공하고 있다. 대한민국 공공기관의 웹 서비스 개발 시 사용을 권장하고 있는 전자정부 표준 프레임워크의 기반 기술로서 쓰이고 있다.

#### 2.2.2 스프링 프레임워크 라이선스

- Apache License 2.0
  - 누구나 해당 소프트웨어에서 파생된 프로그램을 제작할 수 있으며 저작권을 양도, 전송할 수 있다.
  - 누구든 자유롭게 Apache 소프트웨어를 다운 받아 부분/전체를 개인적/상업적 용도로 이용할 수 있다.
  - 재배포 시 원본 소스 코드 또는 수정한 소스 코드를 반드시 포함할 필요는 없다.
  - 라이선스 버전 및 표기는 반드시 포함해야 한다.

#### 2.2.3 스프링 프레임워크 특징

- 경량 컨테이너로서 자바 객체를 직접 관리한다. 각각의 객체 생성, 소멸과 같은 라이프 사이클을 관리하며 스프링으로부터 필요한 객체를 얻어올 수 있다.

- 제어 반전(IoC : Inversion of Control)을 지원한다. 컨트롤의 제어권이 사용자가 아니라 프레임워크에 있어서 필요에 따라 스프링에서 사용자의 코드를 호출한다.

- 관점 지향 프로그래밍(AOP : Aspect-Oriented Programming)을 지원한다. 따라서 트랜잭션이나 로깅, 보안과 같이 여러 모듈에서 공통적으로 사용하는 기능의 경우 해당 기능을 분리하여 관리할 수 있다.

- IoC(Inversion of Control)

  IoC는 말 그대로 제어의 역전이다. 기존 사용자가 모든 작업을 제어하던 것을 특별한 객체에 모든 것을 위임하여 객체의 생성부터 생명주기 등 모든 객체에 대한 제어권이 넘어 간 것을 IOC, 제어의 역전이라고 한다.

  IoC는 DI와 DL의 의해 구현된다.

  - DI(Dependency Injection) - 의존성 주입 의존성 주입이란 객체가 서로 의존하는 관계가 되게 의존성을 주입하는 것이다. 객체지향 프로그램에서 의존성 이란 하나의 객체가 어떠한 다른 객체를 사용하고 있음을 의미한다.
  - DL(Dependency Lookup) - 의존성 검색 컨테이너에서는 객체들을 관리하기 위해 별도의 저장소에 빈을 저장하는데 저장소에 저장되어 있는 개발자들이 컨테이너에서 제공하는 API를 이용하여 사용하고자 하는 빈을 검색하는 방법이다. IOC에서의 DI는 각 클래스 사이에 필요로 하는 의존관계를 빈 설정 정보를 바탕으로 컨테이너가 자동으로 연결해 주는 것이다.

- AOP(Aspect Oriented Programming)의 지원

  AOP는 말 그대로 관점 지향 프로그래밍이다. 대부분의 소프트웨어 개발에서 사용하는 OOP(Object Oriented Programming)의 문제를 보완하기 위해 등장했다. AOP에서는 핵심기능과 공통기능을 분리시켜 핵심 로직에 영향을 끼치지 않게 공통기능을 끼워 넣는 개발 형태 이며 이렇게 개발함에 따라 무분별하게 중복되는 코드를 한 곳에 모아 중복 되는 코드를 제거 할 수 있어지고 공통기능을 한 곳에 보관함으로써 공통 기능 하나의 수정으로 모든 핵심기능들의 공통기능을 수정 할 수 있어 효율적인 유지보수가 가능하며 재활용성이 극대화된다.

- POJO 기반의 구성

  POJO(Plain Old Java Object) 란 말 그대로 평범한 자바 오브젝트이다. POJO는 객체지향적인 원리에 충실하면서, 환경과 기술에 종속되지 않고 필요에 따라 재활용될 수 있는 방식으로 설계된 오브젝트이다. 또한 상속, 인터페이스가 필요없는 단순하고 가벼운 객체를 의미한다.

- MVC(Model View Controller)

  MVC란 구조로 사용자 인터페이스와 비지니스 로직을 분리하여 개발 하는 구조이다.

  - Model Model에서는 데이터처리를 담당한다. Model부분은 Serivce영역과 DAO영역으로 나누어진다.
  - View View는 사용자 Interface를 담당하며 사용자에게 보여지는 부분입니다. View는 Controller를 통해 모델에 데이터에 대한 시각화를 담당한다.
  - Controller Controller에서는 View에 받은 요청을 가공하여 Model(Service 영역)에 이를 전달한다. 또한 Model로 부터 받은 결과를 View로 넘겨주는 역할을 한다.

  이렇게 Model, View, Controller를 나누는 이유는 소스를 분리함으로서 각 소스의 목적이 명확해 지고 유지보수하는데 있어서 용이하기 때문이다. Model의 Service영역은 자신을 어떠한 Controller가 호출하든 상관없이 정해진 매개변수만 받는다면 자신의 비즈니스 로직을 처리할 수 있어야한다. 즉, 모듈화를 통해 어디서든 재사용이 가능하여야 한다는 뜻이다.

- 장점

  - 정형화 되어 있기 때문에 일정수준의 품질을 기대 할 수 있다.
  - 개발 후 유지보수 및 기능의 확장성에서도 품질을 보장한다.
  - '전자표준 프레임워크'기 때문에 해당 프레임워크의 수요가 크다.(한국 한정)

- 단점

  - 내부에서 많은 기능을 가졌기 때문에 상당히 무겁다.
  - 분명 많은 기능을 제공해서 편리하지만, 이 기능들을 습득하기위해 상당한 노력과 시간이 필요하다.

#### 2.2.4 서비스내 기능

- 백엔드, 프론트엔드의 웹페이지나 기능들을 구현하기 위해 사용한다.

### 2.3 안드로이드 스튜디오(Andriod Studio)

#### 2.3.1 안드로이드 스튜디오 소개

- 안드로이드 스튜디오(Android Studio)는 안드로이드 및 안드로이드 전용 앱 제작을 위한 구글의 **공식** 통합 개발 환경(IDE, Integrated Development Environment)이다.
- JetBrains 사의 IntelliJ IDEA(Apache License 2.0)를 기반으로 제작되었다.
- 기반이 되는 IntelliJ IDEA와 마찬가지로 Apache License 2.0 라이선스로 배포된다.
- Windows, Mac OS X, Linux 환경에서 사용 가능하다.
- 프로그래밍 언어로 **자바(Java)**와 **코틀린(Kotlin)**을 지원한다.

#### 2.3.2 안드로이드 스튜디오 라이선스

- Apache License 2.0
  - 누구나 해당 소프트웨어에서 파생된 프로그램을 제작할 수 있으며 저작권을 양도, 전송할 수 있다.
  - 누구든 자유롭게 Apache 소프트웨어를 다운 받아 부분/전체를 개인적/상업적 용도로 이용할 수 있다.
  - 재배포 시 원본 소스 코드 또는 수정한 소스 코드를 반드시 포함할 필요는 없다.
  - 라이선스 버전 및 표기는 반드시 포함해야 한다.

#### 2.3.3 안드로이드 스튜디오 특징

- 안드로이드 운영체제 내에서 애플리케이션 개발을 지원하기 위해 **그레이들(Gradle) 기반 빌드 시스템**을 사용한다.

- 그레이들(Gradle) 역시 Apache License 2.0을 준수하는 오픈소스로서 안드로이드 스튜디오의 공식 빌드 시스템이다.

- 그레이들(Gradle)은 Maven(아파치에서 개발하는 Java 기반 프로젝트 라이프사이클 관리를 위한 빌드 도구)의 장황한 설정 파일, 에러가 쉽게 발생하는 문제를 해결하기 위해 만들어졌다.

- 그레이들(Gradle)의 유연성을 잘 활용하면 앱의 주요 소스 파일을 수정하지 않고도 아래 작업들을 포함한 다양한 편의성이 높은 작업을 실행할 수 있다.

- <빌드 변형> 전체 프로젝트에서 각 프로젝트에는 하나의 최상위 빌드 파일이 있고, 모듈별로 별도의 모듈 수준의 빌드 파일을 가지고 있다. 따라서 빌드를 변형하여 무료/유료 버전, 디바이스 특성에 맞추어 변경한 버전 등 같이 하나의 애플리케이션에 대한 다양한 버전을 제작할 수 있다.

  - <다중 APK 지원> 화면 밀도 또는 ABI를 기반으로 여러 APK를 효율적으로 만들 수 있다. 화면 픽셀 밀도에 따라 앱의 개별 APK를 만드는 동시에, 이를 단일 변형으로 간주하여 설정을 공유할 수 있도록 허용할 수 있다.
  - <리소스 축소> 패키지 앱과 라이브러리 종속 항목으로부터 미사용 리소스를 자동으로 삭제한다.

- **에뮬레이터(Emulator)**

  - 다른 프로그램이나 장치를 모방하는 컴퓨터 프로그램이나 전자기기의 능력
  - 애플리케이션이 잘 동작하는지 실제 물리적인 안드로이드 기기가 없어도 가상의 안드로이드 스마트폰에서 앱을 실행해봄으로써 확인이 가능하다는 의미이다.

  [![img2](https://user-images.githubusercontent.com/101340860/205448581-559775d5-94b2-422e-b6eb-cf30fee4c7af.png)](https://user-images.githubusercontent.com/101340860/205448581-559775d5-94b2-422e-b6eb-cf30fee4c7af.png)

- 사진처럼 안드로이드 스튜디오에서 가상의 안드로이드 스마트폰 환경이 제공되는데, 기본적인 환경 설정, 웹 서핑, 앱 설치 및 실행 등이 가능하다. 위 가상 환경에서 앱을 실행시켜 앱의 기능이 잘 구현되었는지 테스트할 수 있다. 게다가, 코드에 변경 사항이 생기면 앱을 다시 시작하지 않아도 실행 중인 앱에 변경 사항을 푸시할 수 있다고 한다.

- **발전 가능성**

  - 구글에서 JetBrains 사의 IntelliJ를 기반으로 제작한 안드로이드 공식 앱 제작 IDE임으로, 인터넷에 존재하는 제3자에 의해 만들어진 수 많은 예제 코드, 꾸준한 업데이트 및 패치, 오류에 대한 공식적인 솔루션 제공 등이 기대된다.

- 단점

  - **특정 프로그램과의 충돌**

  - **어배스트(Avast)**라는 체코에서 만들어진 **안티바이러스 소프트웨어와 상성이 좋지못하여** 어배스트 프로그램에서 안드로이드 스튜디오의 경로를 제외하고 지정해주거나, 다른 안티바이러스 프로그램을 사용해야하는 단점이 있다.

  - 프로그램 사용에 대한 **진입 장벽**

    - 처음 프로젝트를 열었을 때 수행되는 인덱싱 과정은 절대적으로 CPU의 멀티스레드 성능에 영향을 받는다. 이는 곧 어느정도 묵직한 시스템 사양이

      요구 된다는 말인데, 노트북 사용자들은 램이나 보조기억장치를 제외한 다른 부품들은 업그레이드하기 힘든 경우가 대부분이기 때문에 프로그램을 

      사용하는데 있어 어느정도 장벽이 존재한다.

    - 장점에서 소개 된 안드로이드 에뮬레이터도 예외는 아니다. 안드로이드 에뮬레이터도 사용을 위해서 **CPU와 메모리를 어느 정도 요구**한다.

#### 2.3.4 서비스내 기능

- 프로젝트 최종 형태를 애플리케이션 형태로 만들어 서비스 이용자가 보다 쉽게 서비스를 이용할 수 있도록 틀을 제공한다.
- 애플리케이션에서 결과 값을 토대로 제작된 웹 사이트에 접속할 수 있도록 하여 서비스 이용자가 결과를 확인한다.

### 2.4 지씽(Zxing)

#### 2.4.1 지씽 소개

- 구글에서 제공하는 Apache License 2.0을 준수하는 오픈소스이다.
- Java로 구현 된 다중 형식 1D 및 2D 바코드 이미지를 처리하는 라이브러리이다.
- QR코드 스캔 기능이 들어간 애플리케이션 대부분에서 지씽을 사용한다고해도 과언이 아닐정도로 널리 쓰이고 있는 오픈소스이다.

#### 2.4.2 지씽 라이선스

- Apache License 2.0
  - 누구나 해당 소프트웨어에서 파생된 프로그램을 제작할 수 있으며 저작권을 양도, 전송할 수 있다.
  - 누구든 자유롭게 Apache 소프트웨어를 다운 받아 부분/전체를 개인적/상업적 용도로 이용할 수 있다.
  - 재배포 시 원본 소스 코드 또는 수정한 소스 코드를 반드시 포함할 필요는 없다.
  - 라이선스 버전 및 표기는 반드시 포함해야 한다.

#### 2.4.3 지씽 특징

- 장점

  - 인식 가능한 바코드가 약 15가지로, 거의 모든 종류의 바코드 인식이 가능하다.
  - 훼손된 QR코드, 바코드도 인식할 수 있다.

- 단점

  - 안드로이드 스마트폰 개발 환경에서의 문제점

    - 안드로이드 스마트폰 환경에서 바코드 스캔 기능을 구현하려는 경우에는 개발 앱과 별도로 ZXing 앱을 다운 받아 사용해야한다. Zxing 앱이 설치가 되지 않은 경우는 스캔 기능을 사용할 수 없고, Zxing 앱을 실행하면 <바코드 스캐너> 라는 별도의 타이틀이 나타나 이질감이 느껴지게 된다.

      [![img1](https://user-images.githubusercontent.com/101340860/205448608-cced97aa-ad72-49e6-aa2d-e03abcbdbefb.png)](https://user-images.githubusercontent.com/101340860/205448608-cced97aa-ad72-49e6-aa2d-e03abcbdbefb.png)

  - Zxing 앱이 호출되어 실행되기까지 시간이 소요된다.

  - 몇초의 짧은 시간이지만, 반복적으로 스캔 기능을 사용해야하는 경우 불편을 느낄 수 있다.

  - 호출된 Zxing 앱을 사용하다가 스캔 완료 전에 Back 버튼을 눌렀을 때 개발된 앱으로 돌아가는 것이 아니라 안드로이드 홈 화면으로 나가게 된다.

  - Zxing 앱이 "종료" 되면서 생기는 문제

- 동작 알고리즘

  - 카메라를 실행시켜 프리뷰를 가동시킨다.
    - 프리뷰? 카메라를 실행 시킨 뒤 사진 촬영, 동영상 녹화 등을 수행하지 않을 때도 백그라운드로 보이는 카메라 시점의 화면
  - 카메라의 프리뷰로부터 지속적으로 영상을 받아들인다.
  - 받아들인 영상에서 밝기 값만 추출하여 이를 기반으로 이진화를 수행한다.
    - 바코드, QR코드가 대부분 검정색과 흰색 조합으로만 이루어진 이유도 이와 관련 있는 것 같다.
  - Detector 클래스를 통해 QR코드 영역을 찾아낸다.
  - 찾아낸 QR코드 영역을 Decoder 클래스를 통해 해석한다.
  - 결과 값이 URL일 경우 탭하면 인터넷을 통해 해당 URL로 연결되도록 한다.
  - 화면에 결과 영상과 결과 값을 출력한다.

- 이름과 관련된 재밌는 일화 지씽(Zxing)은 Zebra Crossing의 줄임말이다. Zebra Crossing은 횡단보도를 뜻하는데, 횡단보도의 검정색과 흰색이 반복되는 무늬가 얼룩말의 얼룩 무늬와 비슷하여 그렇게 부르는 모양이다. 그런데 여기서 그치지 않고 얼룩말의 무늬가 바코드 무늬와 비슷한 점에 집중하여 바코드와 비슷한 횡단보도, 횡단보도는 영어로 Zebra Crossing, 이를 줄여서 Zxing이라는 프로그램 이름을 가지게 되었다고 한다.

#### 2.4.4 서비스내 기능

- 맥주의 사진이나 바코드를 스캔한다.

### 2.5 스크래피(Scrapy)

#### 2.5.1 스크래피 소개

- 웹 데이터를 수집하는 것을 목표로 설계 된 오픈소스 웹 크롤링 프레임워크
- BSD 라이선스를 준수하는 오픈소스이다.
- Python으로 작성되었다.

#### 2.5.2 스크래피 라이선스

- BSD 라이선스
  - 해당 소프트웨어는 아무나 개작할 수 있고, 수정한 것을 제한없이 배포할 수 있다.
  - 수정본의 재배포는 의무적인 사항이 아니므로 상용 소프트웨어에서도 사용할 수 있다.

#### 2.5.3 스크래피 특징

- 웹 크롤링(Web Crawling)
  - 웹 크롤러(Web Crawler)? 조직적, 자동화 된 방법으로 월드 와이드 웹(WWW)을 탐색하는 프로그램
  - 웹 크롤러가 하는 작업을 웹 크롤링(Web Crawling) 혹은 스파이더링(Spiering)이라 부른다.
  - 검색 엔진과 같은 여러 사이트들에서는 데이터의 최신 상태를 유지하기 위해 웹 크롤링을 사용한다. 웹 크롤러는 대체로 방문한 사이트의 모든 페이지의 복사본을 생성하는데 사용되고, 검색 엔진은 이렇게 생성된 페이지를 보다 빠른 검색을 위해 인덱싱한다.
  - 웹 크롤러는 링크 체크나 HTML 코드 검증과 같은 웹 사이트의 자동 유지 관리 작업을 위해 사용되기도 하며, 자동 이메일 수집과 같은 웹 페이지의 특정 형태의 정보를 수집하는데도 사용된다.
  - 간단히 말하면 웹 크롤링은 웹 페이지를 그대로 가져와서 데이터를 추출하는 행위라고 정리할 수 있겠고, 스크래피(Scrapy)는 그런 웹 크롤링을 하기 위해 제작된 오픈소스 프레임워크이다.
- 스크래피는 Spiders라는 여러 기능이 내장된 크롤러를 중심으로 개발되었다.
- 스크래피를 사용하는 개발자들이 코드 재사용성을 높일 수 있도록 도와주어 큰 규모의 크롤링 프로젝트 개발을 쉽게 수행할 수 있도록 도와준다.
- 스크래피를 사용하는 개발자들이 크롤링하고자하는 사이트의 동작을 테스트할 수 있는 웹 크롤링 쉘을 제공한다.
- 단점
  - JavaScript 지원이 힘들다.
  - ajax/pjax로 데이터가 갱신되는 웹 페이지에서는 원하는 데이터를 추출하는 것이 쉽지 않다.
  - 스크래피(Scrapy)와 셀레니움(Selenium, Apache License 2.0)의 조합으로 극복할 수 있으나, 같은 기능을 하는 두 가지 오픈소스를 사용하는 상황이 발생한다.

#### 2.5.4 서비스내 기능

- 촬영된 맥주 사진이나 바코드에 대한 정보를 크롤링하여 데이터를 추출한다.

  - 사용자에게 맥주 관련 정보를 제공하는 서비스를 만들기 위해 네이버 게시글을 이용한다. 네이버 게시글과, 게시글의 해시태그, URL을 가져온다. 
    - 어떤 게시글을 가져올지에 대한 기준은 '맥주리스트'의 맥주 이름 키워드와 "맥주" 단어로 한다. 
    - 해시태그는 사용자의 검색에 대한 관련 게시물 추천에서 이용되는데 ElasticSearch에서 내부적인 처리를 통해 사용자에게 적절한 게시물을 제공한다.    

  - 맥주 정보 데이터는 맥주 정보 사이트인 'BeerAdvocte'에서  가져오는데, 가져오는 데이터는 '맥주 리스트','각 맥주의 정보','평점','리뷰'이다.

- 추출한 데이터를 데이터 베이스에 전송한다.   

### 2.6 구글 클라우드 비전 API(Google Cloud Vision API)

#### 2.6.1 구글 클라우드 비전 API 소개

- 구글에서 지원하는 이미지 분석 API
- 빅데이터를 기반으로 머신 러닝을 사용하여 결과 값을 도출해주기 때문에, 디바이스가 인터넷 망에 연결되어 있어야 하고, 실시간으로 서버와 상호작용 한 다음 결과 값이 도출된다.

#### 2.6.2 구글 클라우드 비전 API 라이선스

- API

#### 2.6.3 구글 클라우드 비전 API 특징

- 주요 기능
  - Label Detection
    - 이미지내 사물을 구별하여 라벨링한다.
  - Logo Detection
    - 이미지 내 브랜드 로고를 찾는다.
  - Landmark Detection
    - 이미지 내 유명한 랜드마크를 찾는다.
  - Face Detection
    - 이미지 내 사람의 얼굴을 읽어 감정 상태를 알려준다.
  - Safe Search Detection
    - 이미지 내 유해성 콘텐츠를 감지한다.
  - Optical Character Recognition
    - 광학 문자 인식
- 장점
  - 인터넷 연결만 되어있으면 프로세싱 파워가 낮은 기기에서도 이미지 처리를 할 수 있다.
  - 응용 프로그램과 서비스를 개발할 수 있도록 공개된 Open API이다. 따라서 개발자가 사용하기 쉬운 모듈로 구성이 되어있다.
  - Spring Cloud GCP는 Spring 애플리케이션에서 Vision API와 연동할 수 있는 편리한 라이브러리를 제공한다. 따라서 Spring Framework에 이미 익숙한 사용자라면 Spring Cloud Vision을 통해 애플리케이션에서 Vision API 관련 작업을 간편하게 수행하고 작성해야 하는 코드의 양을 줄일 수 있다.
- 단점
  - 사용량에 따라 유료 서비스가 될 수 있다.
    - 0~1,000개 : 무료
    - 1,001~5,000,000개 : 기능에 따라 1.5~3.5 달러
    - 5,000,001개~ : 기능에 따라 0.6~1.5 달러
  - 이미지 인식, 서버로의 통신, 서버에서의 연산 등이 이루어져야하므로 소요 시간이 길다.
    - 실시간 인식으로의 사용은 아직 무리이다.
  - API 내 제공되는 라이브러리나 함수가 부족하다

#### 2.6.4 서비스내 기능

- 맥주의 사진으로부터 텍스트를 추출하여 데이터 베이스로 전송한다.

## 2.7 엘라스틱 서치(Elastic Search)

### 2.7.1 엘라스틱 서치 소개

소프트웨어 엔지니어 더그 커팅이 고안한 inverted index 구조의 검색엔진 루씬을 기반으로 하는 검색 엔진으로

REST API 와 스키마 없는 JSON 문서 기능을 제공하며 Java 로 개발되었다.

#### 2.7.1.1 관련 용어 설명

**document**

엘라스틱 서치에서 데이터가 저장되는 최소 단위로 JSON 포맷으로 저장된다. DB의 row에 대응된다.

**index**

데이터 저장 공간으로 하나의 노드에 여러 개 인덱스가 생성된다. 하나의 인덱스가 여러 노드에

분산되어 저장된다.

**Shard**

인덱싱된 document 는 인덱스 - 인덱스 내부 데이터로 이루어져 있고 이는 다시 여러 개의 부분으로

나뉘어 구성되는데 이 나뉘어진 부분들을 Shard 라 한다.

**Type**

인덱스의 논리적 구조로 엘라스틱 서치 6.1 부터 인덱스 하나당 하나의 타입만 설정 가능하다.

**Field**

document 를 구성하기 위한 속성으로 DB 의 column 에 대응된다볼 수 있다. 하나의 필드는 목적에 따라

다수의 데이터 타입을 가질 수 있다.

**indexing**

document 의 위치에 대한 인덱스를 만들어 접근성을 높이는 프로세스

**Mapping**

document의 필드, 필드 속성을 정의하고 그에 따른 인덱싱 방법을 정의하는 프로세스, 스키마 정의

프로세스라 볼 수 있다.

**inverted indexing**

일반적인 인덱싱과 반대로 document 내의 내용물의 Mapping 정보를 인덱싱하는 것이다.

검색엔진과 같은 문서 내용의 검색이 필요한 형태에서 보다 전문적인 형태의 검색 수행을 위해 사용된다.

**JSON**

JSON 은 "JavaScript Object Notation" 의 약자로 사람이 읽을 수 있는 문자를 사용하여 속성-값 쌍 및

배열 형태로 구성된 데이터 객체를 저장하고 전송하는 개방형 표준 파일 형식 겸 데이터 교환 형식

이다. 서버가 있는 웹 어플리케이션에서 데이터 교환시 다양한 용도로 사용된다.

JSON 은 언어 독립적인 형식이며 JavaScript 에서 파생되었지만 많은 근래의 프로그래밍 언어 플랫폼은

JSON 형식 데이터를 생성하고 분석하는 기능을 지원하고 있다. JSON 파일 이름은 `.json`

확장자를 사용한다. JSON 의 기본 데이터 유형은 아래와 같다.

- 숫자

  소수 부분을 포함할 수 있고 지수 E 표기법을 사용할 수 있는 부호 있는 십진수 형태를 표현하는 타입

  입니다. NaN과 같은 숫자가 아닌 것은 포함할 수 없다. 또한 정수와 부동 소수점을 구분하지

  않습니다. JSON의 모태가 되는 JavaScripte의 경우 모든 숫자 값에 대해 배정밀도 부동 소수점 형식

  (64비트를 사용한 정밀도 표현)을 사용하지만 JSON은 사용하는 언어에 따라 숫자가 다르게

  인코딩될 수 있다.

- 문자열

  0개 이상의 유니코드 형태로 표현되는 문자를 다루는 타입으로, 큰따옴표로 문자와 구분되며

  백슬래시 이스케이프 구문을 지원한다.

- Bool

  `true` 또는 `false` 값을 표현할 때 사용되는 타입이다.

- Array

  배열을 표현하는 타입으로 0개 이상의 요소로 구성될 수 있다. 배열은 쉼표로 구분된 요소와 함께

  대괄호 표기법으로 사용한다.

- Object

  이름(키)이 문자열인 이름-값 쌍의 집합이다. JSON 구문에서는 이름으로 사용되는 문자열이

  고유성을 가져야 된다거나 하는 제한을 따로 두고 있지 않으며 이름/값 쌍의 순서에 대해

  별다른 의미를 부여하지 않는다. 객체는 중괄호로 구분되고 쉼표를 사용하여 각 쌍을 구분하며

  `:` 문자를 사용하여 키 또는 이름과 해당 값을 구분한다.

**REST API**

- API

  Application Programming Interface 의 약자인 API 는 프로그래밍에서, 프로그램을 작성하기 위한

  일련의 부차적 프로그램으로 프로토콜 등을 정의하여 통신을 하기 위한 인터페이스 사양을

  말한다. API 자체는 어디까지나 사양만을 정의하기 때문에 구현과는 독립적이다. 이를 실제로 구현한

  것은 라이브러리라고 부른다. 소프트웨어 개발에서 호환성을 위해 지켜야하는 추상적 원칙이라고

  볼 수 있으며 한마디로, 소스 코드 수준에서 정의되는 인터페이스라고 정리할 수 있다.

- REST

  Representational State Transfer 은 컴퓨터 과학자 로이 필딩이 2000년 박사 학위 논문에 정의한

  네트워크 소프트웨어 아키텍쳐로 간단히 말하여 '네트워크 통신 구조 설계 지침' 이다.

  네트워크 통신을 위해 제시되었으나 온라인 네트워크 통신 작용의 대부분을 차지하는 웹 기반의 전송을

  위해 주로 사용되고 있다. REST 의 조건은 아래와 같다.

| 조건                 | 설명                                                         |
| -------------------- | ------------------------------------------------------------ |
| Client-Server        | 클라이언트와 서버로 분리되어야 하며 서로 의존성이 없어야 한다. |
| Stateless(무상태성)  | 상태 정보를 따로 저장하지 않으며, 결과가 이용자의 정보와 관계 없이 동일해야 한다. |
| Cache                | HTTP를 비롯한 네트워크 프로토콜에서 제공하는 캐싱 기능을 적용할 수 있어야 한다. |
| Uniform Interface    | 데이터가 표준 형식으로 전송될 수 있도록 구성 요소간 통한 인터페이스를 사용한다. |
| Layered System       | 요청된 정보를 검색하는 데 있어 계층 구조로 분리되어야 한다.  |
| Self-descriptiveness | 전송되는 내용은 별도 문서 없이 쉽게 이해할 수 있도록 자체 표현 구조를 지녀야 한다. |

- REST API

  REST 를 준수하는 API 를 말하며 주로 HTTP 기반 네트워크에서 사용된다.

  프로그래밍에서 말하는 API 와의 차이점으론 프로그래밍의 API는 코드나 라이브러리를 받아오기

  위해 사용되지만 REST API 는 네트워크에서 데이터를 받아오기 위한 용도이다.

  단순 데이터 열람에 활용되는 경우가 많아 광범위하게 사용된다.

**NoSQL**

NoSQL 은 의견에 따라 No SQL, Not Only SQL, Non-Relational Operational DB SQL 등으로 정의가

엇갈리는 면이 있으나 Not only SQL 로 해석하는 측이 다수를 차지하고 있다.

의미를 풀어보면, 단순히 기존 관계형 DBMS(RDBMS)가 가지고 있는 특성뿐만 아니라, 다른 특성들을

부가적으로 지원한다는 것을 의미한다. 이 정의는 1998년 엔지니어 카를로스 스트로찌가 공개한

표준 SQL를 채용하지 않은 자신의 경량 오픈 소스 DB 를 NoSQL 이라 명명한데서 유래했다고 전해진다.

이 때 이후 기존의 관계형 DBMS 시스템의 주요 특성인 ACID 를 제공하지 않지만 보다 뛰어난 확장성이나

성능을 가지는 많은 비관계형, 분산 DBMS 를 지칭하는 데 보편적으로 사용되게 되었다.

2000년 후반에 소셜네트워크 서비스등이 등장하며 관계데이터 또는 정형데이터가 아닌 비정형데이터라는 것을

쉽게 저장하고 처리할 수 있는 구조를 가진 DB들이 대두되었고, 해당 기술이 발전되며 NoSQL 데이터베이스가

각광을 받게 되었다. 기존의 관계형 DB 들과 구분되는 차이점은 아래와 같습니다.

- 관계형 모델을 사용하지 않으며 테이블간의 조인 기능을 제공하지 않음
- 직접 프로그래밍을 하는 등의 비SQL 인터페이스를 통한 데이터 접근 방식
- 대부분 여러 대의 DB 서버를 묶어서 하나의 DB를 구성
- 관계형 DB에서 지원하는 데이터 처리 완결성(ACID) 미보장
- 데이터의 스키마와 속성들을 다양하게 수용 및 동적 정의
- 데이터베이스의 중단 없는 서비스와 자동 복구 기능 지원
- 다수가 오픈 소스 형태로 제공

**검색 엔진**

검색엔진은 내부적으로 각 도큐먼트를 인덱싱하고 빠르게 검색하는데 사용하는 기술로 검색 엔진을 이용해

만든 대표적인 서비스로는 네이버, 구글과 같은 형태가 있다.

### 2.7.2 엘라스틱 서치 라이선스

Elastic 사는 엘라스틱 서치 7.11 버젼부터 새로운 라이센스인 SSPL(Server Side Public License) 또는 Elastic 라이센스 중에서

하나를 골라 사용할 수 있는 Dual 라이선스를 발표하면서 기존의 아파치 2.0 라이센스를 더는 제공하지 않는다고 발표하였다.

SSPL 은 GPL3와 유사한 라이선스로써 해당 소스를 이용하여 서비스를 제공하는 제 3자는 서비스 구축시 사용된 모든 소스를

공개하도록 제한하고 있다. 이 전환은 일부 클라우드 서비스 공급자들이 오픈 소스 커뮤니티에 기여하지 않고 서비스를 제공하며

사용자와 커뮤니티에 피해를 준다는 Elastic 사의 견해로 인해 발생했다.

### 2.7.3 엘라스틱 서치 특징

**특징**

엘라스틱 서치는 NoSQL의 일종으로 분류될 수 있고, 분산 처리를 통해 실시간성으로 빠른 검색이 가능하다.

특히 기존 처리 방식으로 작업이 어려운 대량의 비정형 데이터 검색이 가능하며 전문 검색이나 구조 검색

모두를 지원한다.

**장점**

- 오픈 소스형 검색 엔진이다. 오픈 소스 커뮤니티가 엘라스틱 서치를 계속해서 개선하고 있다.
- 내용 전체를 인덱싱해서 특정 단어가 포함된 문서를 검색할 수 있는 전문 검색 기능을 제공한다.
- 비정형 로그 데이터를 수집하여 통계 분석에 활용할 수 있다.
- 정형화되지 않은 문서도 자동으로 인덱싱하고 검색할 수 있다.(Schemaless)
- HTTP 기반의 REST API 를 활용하고 요청/응답에 JSON을 활용해 언어, OS, 시스템에 독립적이다.
- 서로 상이한 인덱스더라도 검색할 필드명만 같으면 여러 인덱스를 한 번에 조회할 수 있다.
- 여러 계층 구조의 문서로 저장이 가능하며, 계층 구조로 된 문서도 한 번의 쿼리로 조회할 수 있다.
- inverted indexing 기능을 지원한다.
- Shard 를 활용해 분산 구성이 가능하다. 이는 확장성을 보장한다.

**단점**

- 완전히 실시간으로 기능하지는 않는다. 인덱싱된 데이터가 내부적인 작업으로 1초 뒤 검색이 가능하다.
- 전체적인 성능 향상을 위해 시스템적으로 비용 소모가 큰 롤백, 트랜잭션을 지원하지 않는다.
- 데이터 업데이트를 제공하지 않는다. 업데이트 명령시 기존 문서 삭제후 새 문서를 생성한다.

#### 엘라스틱 스택

모든 유형의 데이터, 특히 비정형 데이터를 저장, 실시간 검색, 분석 및 시각화할 수 있도록 도와주는

Elastic 사의 오픈소스 서비스 제품이다. 단순 검색 엔진인 엘라스틱서치(elastic search)에 오픈소스

데이터 수집 도구인 로그스테시(Logstash), 오픈소스 시각화 UI인 키바나(Kibana), 경량 데이터 수집기인

비트(Beat)가 더해져 엘라스틱 스택이 생성되었다.

**키바나**

키바나는 엘라스틱 스택의 UI를 담당한다. 엘라스틱서치에 대한 대부분의 관리기능, API를 실행할 수 있는

콘솔, 솔루션 페이지들 등이 모두 포함되어 있다. 가장 중요한 기능은 데이터 시각화 기능이다.

다양한 차트나 그래프를 클릭 몇번으로 생성할 수 있다.

**로그스태시**

대량의 데이터를 검색하기 위해 가장 먼저 선향돼야 할 작업은 데이터를 적재하는 것이다. 데이터 수집과 가공

기능을 제공하는 로그스태시를 사용하면 다양한 소스로부터 데이터를 수집할 수 있다. 또한 필터 기능을 이용해

비정형 데이터를 분석하기 쉬운 형태로 정제할 수 있고 엘라스틱 서치 외에도 다양한 플랫폼으로 정제된 데이터

를 보낼 수 있다. 로그스태시의 진면목은 엘라스틱서치의 인덱싱 성능을 최적화하기 위한 배치 처리와 병렬 처

리가 가능하다는 것이다.

**비츠**

로그스테시의 기능은 충분히 강력하다. 하지만 다양한 필터와 설정을 지원하는 만큼 무겁기 때문에

활용도가 떨어지는 경우도 있다. 따라서 엘라스틱 스택에는 비츠라는 경량 수집기가 포함되어 있다.

**엘라스틱 스택 Work Flow**

1. 엘라스틱 서치가 매핑을 설정한다.
2. 로그스태시가 데이터를 전처리하고 전송한다.
3. 엘라스틱 서치가 데이터를 저장한다.
4. 키바나에 인덱스가 등록되고 차트 옵션등을 사용자로부터 선택 받은 후 데이터를 시각화한다.

### 2.7.4 서비스에서의 기능

사용자에게 필요한 정보를 제공하기 위해 크롤링, 추출을 통해 얻어난 데이터를 기반으로 검색을 수행한다.

사진검색, 바코드검색과 별개로 사용자에게 직접 검색을 받는다. 

- 단순히 맥주 이름이 아닌 사용자의 세부적인 질문을 받고, 그것을 가공해 적절한 게시물과 맥주 정보를 제공하는데 사용한다.

## 2.8 PostgreSQL

### 2.8.1 PostgreSQL 소개

#### 관련 용어 설명

**데이터 무결성**

완전한 수명 주기를 가지며 데이터의 정확성과 일관성을 유지하고 보증하는 것을 말한다.

**DataBase**

여러 사람에 의해 공유되어 사용될 목적으로 통합되어 관리되는 데이터의 집합을 말한다. 특정 다수의 이용자들에게 필요한 정보를

제공하거나 조직 내에서 필요한 정보를 체계적으로 축적하여 그 조직 내의 이용자들에게 필요한 정보를 제공하는 정보 서비스에

이용되며 일반적으로 응용 프로그램과 별개의 미들웨어를 통해서 관리된다. 데이터베이스는 아래의 특징을 가진다.

- 자기기술성

  파일 시스템과 구별되는 특징으로 데이터의 삽입/삭제를 데이터/구조적 종속 없이 가능케 하는 것을 말한다.

  DBMS 에 의해 실현된다.

- 프로그램과 데이터의 격리

  단일 응용 프로그램 내에서 데이터를 개별적으로 관리하는 방식은 데이터 저장 구조 등이 변경되면 응용 프로그램도 수정되어야

  한다. 하지만 데이터베이스는 앞서 언급된 자기기술성을 가지므로 저장 구조 등을 수정하는 것이 응용 프로그램에 영향을

  주지 않는다.

- 추상화

  복잡한 데이터베이스 구조에 대한 정보를 감추고, 각 사용자에게 뷰를 제공한다.

- 동시성 제어

  특정 적용 업무나 응용 시스템이 아닌 동시에 복수의 적용 업무나 응용 시스템에 대한 공유할 필요가 있는

  데이터를 보관하고 관리한다. 이를 통해 다수의 사용자에게 동시 접근을 제공한다.

- 동일한 내용의 데이터가 공존하지 않아야 하고, 다양한 접근 방식이 존재해야 하며, 검색과 갱신이 효율적으로 이뤄져야 한다.

- RAM ,ROM 같은 주기억장치가 아닌 보조기억장치에 저장된다.

- 데이터 베이스 설계

  데이터베이스 설계는 아래와 같은 단계를 거친다.

  1. 요구 조건 분석 : 사용자가 어떤 정보를 필요로 하는 지, 문제가 무엇인지 분석하여 데이터베이스의 용도와 형태를 결정한다.
  2. 개념적 설계 : 데이터베이스의 구성요소들을 정하고, 다음 단계에서 수행할 작업을 설계한다.
  3. 논리적 설계 : 본격적인 스키마 설계로, 이전 단계에서 만들어 놓은 설계도를 가시적 형태로 작업한다.
  4. 물리적 설계 : 저장장치에 저장되는 형태의 알고리즘을 효율적이게 개선하고 수정하는 단계이다.
  5. 구현 : 실제 데이터들을 수집한 뒤 데이터베이스에 반영한다.
  6. 운영 및 개선 : 데이터베이스를 실제로 운영하며 사용시 발생하는 문제점들을 개선한다.

**트랜잭션**

데이터베이스에서 데이터에 대한 하나의 논리적 실행단계를 트랜잭션이라고 한다.

**ACID**

ACID 는 데이터베이스 트랜잭션이 안전히 수행되는 것을 보장되기 위한 성질을 가리키는 약어이다. 아래와 같이 구성된다.

- 원자성(Atomicity)

  트랜잭션과 관련된 작업들이 부분적으로 실행되다가 중단되지 않는 것을 보장하는 능력이다.

- 일관성(Consistency)

  트랜잭션이 실행을 성공적으로 완료하면 언제나 일관성 있는 데이터베이스 상태를 유지하는 것을 의미한다.

- 독립성(Isolation)

  트랜잭션 수행시 다른 트랜잭션의 연산 작업이 끼어들지 않도록 보장하는 것을 의미한다. 트랜잭션 외에 어떤 연산도

  연산중인 데이터에 접근할 수 없다. 성능관련 이유로 인해 보장되지 않는 경우도 존재한다.

- 지속성(Durability)

  성공적으로 수행된 트랜잭션은 영원히 반영되어야 함을 의미한다. 모든 트랜잭션은 로그로 남고 장애 발생시

  그 이전 상태로 되도릴 수 있다.

**DBMS**

데이터베이스를 형성하고, 저장 및 관리할 수 있는 기능들을 제공하는 응용프로그램이다. 아래와 같은 기능을 가진다.

- 중복 제어 : 동일 데이터가 여러 위치에 중복 저장되는 현상을 방지한다. 저장 공간의 낭비를 막고 데이터 일관성을 유지한다.

- 접근 통제 : 사용자마다 다양한 권한을 부여할 수 있으며, 권한에 따라 데이터에 대한 접근을 제어할 수 있다.

- 인터페이스 제공 : 사용자에게 SQL 및 CLI , GUI 등 다양한 인터페이스를 제공한다.

- 관계 표현 : 서로 다른 데이터간의 다양한 관계를 표현할 수 있는 기능을 제공한다.

- 무결성 제약 조건

  데이터 무결성에 관한 제약조건을 정의/검사하는 기능을 제공한다. 데이터베이스는 반드시 무결성 제약조건을

  통과한 데이터만을 저장해야한다.

대다수의 DBMS 는 비교적 크기가 작은 데이터들을 많이 저장하는 것에 특화되어 있어 데이터의 크기 자체가 클 경우

오버헤드가 클 수 있다는 한계가 존재한다. 또한 실시간 데이터 처리가 필요한 경우에도 복잡한 기능을 제공하는 DBMS는

적합하지 않다.

**Schema**

데이터베이스에서 자료의 구조, 자료의 표현 방법, 자료 간의 관계를 형식 언어로 정의한 구조이다. DBMS 는 주어진

설정에 따라 이 스키마를 생성하며, 사용자가 자료를 저장, 조회, 삭제, 변경할 때 DBMS가 그것을 참조하여 작업을 수행한다.

스키마는 3계층 구조로 구성된다.

- 외부 스키마 : 프로그래머, 사용자의 입장에서의 데이터베이스 모습으로 구조의 일부분을 정의한 것
- 개념 스키마 : 모든 응용 시스템과 사용자들이 필요로 하는 데이터를 통합한 전체 데이터베이스 구조를 논리적으로 정의한 것
- 내부 스키마 : 전체 데이터베이스의 물리적 저장 형태를 기술하는 것

**SQL**

Structured Query Language 의 약어인 SQL 은 관계형 데이터베이스 시스템(RDBMS)의 데이터를 관리하기 위해 설계된 특수

목적의 프로그래밍 언어이다. RDBMS 에서 자료의 검색, 관리, 스키마 생성/수정, 데이터베이스 객체 접근 조정 관리를 위해

고안되었으며, 많은 DB 관련 프로그램들이 SQL 을 채택하고 있다. SQL 문법의 종류는 아래 세 가지로 구분된다.

- 데이터 정의 언어
- 데이터 조작 언어
- 데이터 제어 언어

**RDBMS**

관계형 데이터베이스는 1970년 컴퓨터 과학자, 에드거 F.커드가 제안한 관계형 모델에 기초하는 데이터베이스로 키와 값들의

간단한 관계를 테이블화 시킨 매우 간단한 데이터베이스 형태이다. 관계형 모델은 데이터를 열과 행을 이루는 하나 이상의

테이블로 관리하며, 고유 키가 각 행을 식별한다. 행을 레코드나 튜플로 불리기도 한다. 각 테이블은 하나의 개체 타입을

의미하며 행은 그 개체의 속성이 되는 값들을 묘사한다. 테이블의 각 행에는 각 고유 키가 존재하는데 이는 다른 테이블의

행으로도 연결 가능하고 연결된 행의 고유 키를 위한 열인 외래 키를 해당 테이블에 추가하여 실현할 수 있다.

테이블은 같은 속성을 지닌 튜플의 모임으로 정의되는데 일반적으로 한 대상 객체를 묘사할 때 사용된다.

제약을 사용하면 속성의 범위에 추가적으로 제한을 둘 수 있다.

#### PostgreSQL

PostgreSQL 은 무료, 오픈소스 RDBMS 로 데이터베이스 계의 거장 Michael Stonebraker 가 시작한

Ingre(INteractive Graphics REtrieval System) 에서 파생된 프로젝트인 Postgres 는 Post-Ingres 의 줄임말인데

PostgreSQL 은 이 프로젝트에 SQL 을 지원하고 오픈소스가 되며 1997년에 공식적으로 출시되었다.

BSD, MIT 라이선스와 같은 개방 라이선스와 유사한 고유 라이선스를 사용해 상용적인

사용과 수정을 허용하지만, 사용 중 발생하는 문제에 대해 법적 책임이 없음을 분명히 하고 있다.

PostgreSQL 의 로고는 코끼리인데 정확한 근원은 없으나 오픈소스화된 직후 한 사용자가 아가사

크리스트의 소설 '코끼리는 기억한다' 에서 착안해 제안한 것이 가장 유력한 이유이다.

이외에 코끼리가 크고 강하고 믿음직하며 기억력이 좋다는 점때문에 채택되었다는 설도 있다.

**현황**

PostgreSQL 의 사용자 성향을 조사해보면 대부분 개발적인 성향을 띄며 제품에 대한 애정도와 충성도가 높은 것으로 나타난다.

프로젝트 페이지에 잘 정리된 메뉴얼과 많은 관련 서적, 세계 각국에서 개최되는 다양한 세미나와 컨퍼런스가 이를 뒷받침하고

있다. 특히 근래 클라우드 분야에서 DbaaS(DB As A Service)를 제공하는 기업이 늘어나면서 비용과 라이선스 측면에서 유리한

PostgreSQL 에 대한 수요가 증가하고 있고 이에 대응해 관련 제품이 출시되기도 하였다. MySQL 을 가진 Sun이 2009년 Oracle

에 인수되면서 좀 더 폐쇠적인 기업형 프로젝트 성향을 보이고 그로 인해 많은 사용자 이탈이 발생하자 손쉽게 이전할 수 있는

PostgreSQL 이 주목을 받았고 이후 사용자가 점진적으로 증가하는 추세이다.

### 2.8.2 PostgreSQL 라이선스

PostgerSQL 은 BSD 또는 MIT 라이선스와 유사한 자유-오픈 소스 라이선스인 PostgreSQL 라이선스에 따라 출시된다.

어떤 목적으로든 무료로 별도의 동의 없이 사용, 복사, 수정 및 배포할 수 있는 권한이 부여된다. 다만, PostgreSQL 개발사측은

사용으로 인해 발생하는 결과에 대해 책임을 지지 않는다.

### 2.8.3 PostgreSQL 특징

**다중 버전 동시성 제어**

PostgerSQL 은 MVCC(Multiversion Concurrency Control)를 통해 동시성을 관리한다. 이 제어는 각 트랜잭션에 데이터베이스의

'스냅샷'을 제공하며 다른 트랜잭션에 영향을 주지 않고 변경이 가능하게 한다. 이를 통해 읽기 작업시 락을 거는 것을 필요치 않게 하고

데이터베이스가 ACID 를 유지할 수 있게 해준다.

**외부 데이터 래퍼**

PostgreSQL 은 외부 데이터 래퍼(FDW)를 통해 데이터를 검색하기 위해 다른 시스템에 연결할 수 있다. 파일 시스템, 다른

관계형 데이터베이스 또는 웹 서비스와 같은 모든 데이터 소스의 형태를 취할 수 있습니다.

**인터페이스**

애플리케이션에 연결하기 위해 PostgreSQL 에는 내장 인터페이스 libqs(C 어플리케이션 인터페이스) 및 ECPG(임베디드 C 시스템)

가 포함되어 있다. PostgreSQL 에 연결하기 위한 라이브러리는 많은 언어 플랫폼에서 갖추고 있다.

**동시성 모델**

PostgreSQL 서버는 프로세스 기반이며, 데이터베이스 세션당 하나의 운영체제 프로세스를 사용한다. 다중 세션은 운영체제에 의해

사용 가능한 모든 CPU에 자동으로 분산된다. 여러 CPU 또는 코어를 활용하여 여러 백그라운드 작업자 프로세스에서 여러 유형의

쿼리를 병렬화할 수 있다. 클라이언트에선 멀티 스레드 방식을 이용하여 각 스레드에서 여러 데이터베이스 연결을 만들 수 있다.

### 2.8.4 서비스내 기능

DBMS 로서 DB 를 유저에게 필요한 데이터를 저장하고 관리하는 역할을 수행한다.

- 저장 형식은 다른 오픈소스 소프트웨어와의 연동을 위해 JSON으로 한다. 저장된 '각 맥주의 정보'는 사용자에게 제공하고, '리뷰'는 토큰화를 통해 맥주 맛 데이터를 형성하는데 사용한다. 

## 2.9 코모란(Komoran)

#### 2.9.1 코모란 소개

Komoran 은 Shineware 사에서 개발한 한국어 형태소 분석기로서 java 라이브러리 형태로 제공된다. 타 형태소 분석기와

다르게 여러 어절을 하나의 품사로 분석 가능함으로써 형태소 분석기의 적용 분야에 따라 공백이 포함된 고유명사를 더

정확하게 분석할 수 있습니다.

### 2.9.2 코모란 라이선스

Komoran 은 Apache 2.0 라이선스를 사용하여 누구나 해당 소프트웨어를 개인적, 상용적 목적으로 자유롭게 이용할

수 있다. 사용 시에는 Apache 라이선스의 버전 및 표기를 명시해야 한다.

### 2.9.3 코모란 특징

- Pure Java : 완전히 Java로만 개발되었기 때문에 자바가 설치된 환경이라면 어디서든지 사용 가능합니다.
- 외부 라이브러리 독립적 : 자체 제작한 라이브러리들만을 사용하여 외부 라이브러리와의 의존성 문제가 없습니다.
- 경량화 : 자소 단위 처리, TRIE 사전 등으로 약 50MB 의 적은 메모리상에서도 동작 가능합니다.
- Easy to Use : 라이브러리 적용 후 소스 코드내 1줄만 추가하여 형태소 분석기를 사용할 수 있습니다.
- 사전 관리 용이 : 일반 텍스트 파일의 형태로 구성되어 가독성이 높으며 바로 편집이 가능합니다.
- 새로운 분석 결과 : 타 형태소 분석기와 달리 공백이 포함된 형태소 단위로 분석이 가능합니다.

### 2.9.4 서비스내 기능

맥주 리뷰 데이터를 토큰화후 정제, 분석하여 DB 에 저장하는 역할을 수행합니다.

스크래피를 이용해 Beeradvocate 에서 수집해온 '맥주정보데이터'와 '맥주리뷰데이터' 중 '맥주리뷰데이터'는 유사 맥주와 사용자가 선호하는 맛의 맥주를 추천하는데 이용한다.

-  '맥주리뷰데이터'에는 맥주 맛에 대한 다양한 표현들이 담겨있다는 사실을 알 수 있었다. 따라서 이 맥주 맛을 표현하는 단어를 빈도수 기반으로 분석하면 특정 맥주의 맛 데이터를 얻을 수 있다고 생각했다. 따라서 단어 분석을 위해 리뷰를 토큰화할 필요가 있었고, 리뷰 토큰화에 `Kormoran`을 이용하기로 했다. `Kormoran`을 통해 생성된 토큰을 내부적으로 정제하여 맛을 표현하는 토큰들을 얻어내고, 각 맥주별 토큰의 빈도수를 종합하여 가중치 데이터를 만든다. 
- 각 맥주의 가중치 데이터는 코사인 유사도 알고리즘을 이용하여 분석하고, 이 부분은 코드로 직접 구현한다. 앞의 과정을 통해 가중치 데이터가 유사한 맥주들을 추려 낼 수 있고, 이 것은 검색한 맥주와 비슷한 맥주, 사용자가 선호하는 맛과 유사한 맛의 맥주를 추천하는데 이용한다. 
- 맥주 리뷰에서 정제한 맛 표현 단어들은 카테고리화 하여 '맥주뭐먹주' 앱 내에서 사용자가 리뷰를 남길 때, 선호하는 맛을 설정할 때 선택하게 한다. 카테고리화 된 맛 표현들로 후기를 남기면 다른 사용자들이 일관성있는 후기를 편리하게 볼 수 있을 뿐만 아니라, 우리가 맥주 가중치 데이터를 갱신하는데 활용 할 수 있다.  

## 3. DFD

[![dfd](https://user-images.githubusercontent.com/101340860/205447747-0617eed7-0b8d-4e8f-a8ae-6a20fbfd2c56.jpg)](https://user-images.githubusercontent.com/101340860/205447747-0617eed7-0b8d-4e8f-a8ae-6a20fbfd2c56.jpg)

**data flow sequence**

1. 사용자는 라벨 사진이나, 바코드 사진을 통해 원하는 맥주 정보를 검색합니다.

2. 라벨 사진으로 검색하는 경우 구글 비젼 API 를 통해 라벨 사진에 적혀 있는 텍스트를 추출합니다.

3. DB에는 Scrapy 를 통해 크롤링한 맥주 정보와 그와 연관된 정리된 추천 데이터들이 미리 준비되어 있습니다.

4. 추출된 텍스트 데이터와 일치하는 정보가 DB 내에 존재할 경우 사용자에게 그 결과를 바로 웹을 통해 전달합니다.

   - 추출된 텍스트 데이터와 일치하는 정보를 DB에서 제공합니다.

5. DB 내에 일치 데이터가 존재하지 않을 경우 해당 데이터를 Elastic search 에 넘겨 검색된 정보를 웹을 통해 사용자에게 전달합니다.

6. 바코드 사진으로 검색하는 경우 사용자가 촬영한 바코드 사진이 ZXING 에 넘겨지고 사진에서 바코드 정보를 추출합니다.

7. 바코드 정보를 앞선 경우와 마찬가지로 DB 내에 있는 데이터와 대조하거나 Elastic serach 에 넘겨 검색 정보를 받아오는 식으로

   사용자에게 정보를 제공합니다.

   - 바코드 정보를 이용하여 검색하는 경우,  DB 내에 있는 데이터를 사용자에게 제공합니다

   - 사용자가 직접 검색할 경우, Elastic search를 이용해 검색 내용을 정제하고, 적절한 맥주 정보와 관련 게시물 정보를 제공합니다.

8. Scrapy를 이용해 가져온 각각의 맥주에 대한 사용자들의 리뷰 데이터를 맥주의 가중치 데이터로 만드는 과정에서 Komoran 을 통해 리뷰를 토큰화 형태로 

   정제하여 DB에 저장하고 사용자가 검색시에 살펴볼 수 있도록 제시합니다.

9. 앱과 웹을 개발하는 데는 오픈 소스 라이선스를 사용하는 IDE 인 안드로이드 스튜디오, 부트스트랩/스프링 웹프레임워크가

   사용되었습니다.

### 4. 라이선스 검토

------

| 오픈소스                | 라이선스                                          | 충돌 여부 |
| ----------------------- | ------------------------------------------------- | --------- |
| Bootstrap               | MIT License (3.1.0 이전까지는 Apache License 2.0) | X         |
| Spring                  | Apache License 2.0                                | X         |
| Android Studio          | Apache License 2.0                                | X         |
| Google Cloud Vision API | API                                               | X         |
| Zxing                   | Apache License 2.0                                | X         |
| Elastic Search          | Apache License 2.0 -> SSPL 1.0 & Elastic License  | X         |
| Komoran                 | Apache License 2.0                                | X         |
